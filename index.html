<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Date Counter</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; }
        .section { margin-bottom: 20px; }
        .date-display { font-size: 1.2em; margin-top: 10px; }
        .adjusted { color: red; }
    </style>
</head>
<body>
    <h1>Date Counter</h1>
    
    <div class="section">
        <label for="inputDate">Select Input Date (default: today):</label>
        <input type="date" id="inputDate">
    </div>
    
    <div class="section">
        <h2>Monthly Counts</h2>
        <div id="oneMonth" class="date-display"></div>
        <div id="threeMonths" class="date-display"></div>
    </div>
    
    <div class="section">
        <h2>Daily Counts</h2>
        <div id="tenDays" class="date-display"></div>
        <div id="fourteenDays" class="date-display"></div>
        <div id="twentyEightDays" class="date-display"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const input = document.getElementById('inputDate');
            const oneMonthDiv = document.getElementById('oneMonth');
            const threeMonthsDiv = document.getElementById('threeMonths');
            const tenDaysDiv = document.getElementById('tenDays');
            const fourteenDaysDiv = document.getElementById('fourteenDays');
            const twentyEightDaysDiv = document.getElementById('twentyEightDays');

            // Set default to today in YYYY-MM-DD format
            const today = new Date();
            input.value = today.toISOString().split('T')[0];

            function updateDates() {
                const selected = new Date(input.value);
                if (isNaN(selected.getTime())) return; // Invalid date

                const inputDay = selected.getDate();
                const inputMonth = selected.getMonth(); // 0-11
                const inputYear = selected.getFullYear();

                // Helper to format date as DD/MM/YYYY
                function formatDate(d) {
                    const day = d.getDate().toString().padStart(2, '0');
                    const month = (d.getMonth() + 1).toString().padStart(2, '0');
                    const year = d.getFullYear();
                    return `${day}/${month}/${year}`;
                }

                // +1 month without adjusting day for month length
                let oneMonthAdd = 1;
                let oneNewMonth = (inputMonth + oneMonthAdd) % 12;
                let oneNewYear = inputYear + Math.floor((inputMonth + oneMonthAdd) / 12);
                const oneMonthStr = inputDay.toString().padStart(2, '0') + '/' + (oneNewMonth + 1).toString().padStart(2, '0') + '/' + oneNewYear;
                oneMonthDiv.innerHTML = `1 Month from Input: ${oneMonthStr}`;

                // +3 months without adjusting day for month length
                let threeMonthAdd = 3;
                let threeNewMonth = (inputMonth + threeMonthAdd) % 12;
                let threeNewYear = inputYear + Math.floor((inputMonth + threeMonthAdd) / 12);
                const threeMonthsStr = inputDay.toString().padStart(2, '0') + '/' + (threeNewMonth + 1).toString().padStart(2, '0') + '/' + threeNewYear;
                threeMonthsDiv.innerHTML = `3 Months from Input: ${threeMonthsStr}`;

                // +10 days with adjustment
                let tenDays = new Date(selected);
                tenDays.setDate(tenDays.getDate() + 10);
                let adjusted = false;
                const dayOfWeek = tenDays.getDay();
                if (dayOfWeek === 6) { // Saturday
                    tenDays.setDate(tenDays.getDate() - 1);
                    adjusted = true;
                } else if (dayOfWeek === 0) { // Sunday
                    tenDays.setDate(tenDays.getDate() - 2);
                    adjusted = true;
                }
                const tenDaysText = `+10 Days from Input: ${formatDate(tenDays)}`;
                tenDaysDiv.innerHTML = adjusted ? `<span class="adjusted">${tenDaysText}</span>` : tenDaysText;

                // +14 days
                const fourteenDays = new Date(selected);
                fourteenDays.setDate(fourteenDays.getDate() + 14);
                fourteenDaysDiv.innerHTML = `+14 Days from Input: ${formatDate(fourteenDays)}`;

                // +28 days
                const twentyEightDays = new Date(selected);
                twentyEightDays.setDate(twentyEightDays.getDate() + 28);
                twentyEightDaysDiv.innerHTML = `+28 Days from Input: ${formatDate(twentyEightDays)}`;
            }

            // Update on change and initially
            input.addEventListener('change', updateDates);
            updateDates();
        });
    </script>
</body>
</html>
